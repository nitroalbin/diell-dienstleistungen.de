---
import { companyData } from '@content/company-data';

interface Props {
  variant?: 'primary' | 'outline' | 'accent';
  size?: 'sm' | 'md' | 'lg';
  fullWidth?: boolean;
  showIcon?: boolean;
  showNumber?: boolean;
  class?: string;
}

const { 
  variant = 'accent',
  size = 'md',
  fullWidth = false,
  showIcon = true,
  showNumber = true,
  class: className = ''
} = Astro.props;

const phoneLink = `tel:${companyData.phone.replace(/\s/g, '')}`;

const baseStyles = 'inline-flex items-center justify-center gap-2 font-medium rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2';

const variantStyles = {
  primary: 'bg-primary-400 hover:bg-primary-500 text-neutral-900 focus:ring-primary-400 shadow-sm',
  outline: 'border-2 border-neutral-300 hover:border-accent-400 hover:text-accent-700 text-neutral-700 bg-transparent',
  accent: 'bg-accent-400 hover:bg-accent-500 text-neutral-900 focus:ring-accent-400 shadow-sm',
};

const sizeStyles = {
  sm: 'px-4 py-2 text-sm',
  md: 'px-5 py-2.5 text-sm',
  lg: 'px-6 py-3 text-base',
};

const widthStyles = fullWidth ? 'w-full' : '';
---

<a 
  href={phoneLink}
  class:list={[baseStyles, variantStyles[variant], sizeStyles[size], widthStyles, className]}
  aria-label="Jetzt anrufen"
>
  {showIcon && (
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
    </svg>
  )}
  <slot>{showNumber ? companyData.phone : 'Anrufen'}</slot>
</a>
